global:
  env:
  - name: TZ
    value: "America/Toronto"
  affinity:
    nodeAffinity:
      type: hard
      matchExpressions:
      - key: node-role.kubernetes.io/control-plane
        operator: DoesNotExist
      - key: kubernetes.io/arch
        operator: In
        values: 
        - 'amd64'
  networkPolicy:
    create: true
    defaultDenyIngress: true
configs:
  params:
    server.insecure: true
  cm: 
    create: false # Don't create configmap because I do it separately via 02-configmap.yaml
  repositories:
    aqua-security:
      url: https://aquasecurity.github.io/helm-charts/
      name: aqua
      type: helm
    argocd:
      url: https://argoproj.github.io/argo-helm
      name: argocd
      type: helm
    bitnami:
      url: https://charts.bitnami.com/bitnami
      name: bitnami
      type: helm
    bitnami-labs:
      url: https://bitnami-labs.github.io/sealed-secrets/
      name: bitnami-labs
      type: helm
    cert-manager:
      url: https://charts.jetstack.io
      name: jetstack
      type: helm
    cilium:
      url: https://helm.cilium.io/
      name: cilium
      type: helm
    csi:
      url: https://raw.githubusercontent.com/kubernetes-csi/csi-driver-smb/master/charts
      name: csi-driver-smb
      type: helm
    descheduler:
      url: https://kubernetes-sigs.github.io/descheduler/
      name: descheduler
      type: helm
    falco-security:
      url: https://falcosecurity.github.io/charts
      name: falcosecurity
      type: helm
    geek-cookbook:
      url: https://geek-cookbook.github.io/charts/
      name: geek-cookbook
      type: helm
    gitea:
      url: https://dl.gitea.com/charts/
      name: gitea
      type: helm
    grafana:
      url: https://grafana.github.io/helm-charts
      name: grafana
      type: helm
    headlamp:
      url: https://headlamp-k8s.github.io/headlamp/
      name: headlamp
      type: helm
    intel:
      url: https://intel.github.io/helm-charts/
      name: intel
      type: helm
    keel:
      url: https://charts.keel.sh
      name: keel
      type: helm
    kubeclarity:
      url: https://openclarity.github.io/kubeclarity
      name: kubeclarity
      type: helm
    kubescape:
      url: https://kubescape.github.io/helm-charts/
      name: kubescape
      type: helm
    kured:
      url: https://kubereboot.github.io/charts
      name: kured
      type: helm
    longhorn:
      url: https://charts.longhorn.io
      name: longhorn
      type: helm
    metallb:
      url: https://metallb.github.io/metallb
      name: metallb
      type: helm
    netdata:
      url: https://netdata.github.io/helmchart/
      name: netdata
      type: helm
    nfs:
      url: https://kubernetes-sigs.github.io/nfs-subdir-external-provisioner/
      name: nfs-subdir-external-provisioner
      type: helm
    pihole:
      url: https://mojo2600.github.io/pihole-kubernetes/
      name: pihole
      type: helm
    portainer:
      url: https://portainer.github.io/k8s/
      name: portainer
      type: helm
    promstack:
      url: https://prometheus-community.github.io/helm-charts
      name: promstack
      type: helm
    runix:
      url: https://helm.runix.net/
      name: runix
      type: helm
    tailscale-operator:
      url: https://jacobcolvin.com/helm-charts
      name: tailscale-operator
      type: helm
    tailscale-relay:
      url: https://charts.visonneau.fr
      name: tailscale
      type: helm
    traefik:
      url: https://helm.traefik.io/traefik
      name: traefik
      type: helm

# controller:
#   replicas: 3
# repoServer:
#   replicas: 3
# server:
#   replicas: 3
redis-ha:
  enabled: false
  additionalAffinities:
    nodeAffinity:
      requiredDuringSchedulingIgnoredDuringExecution:
        nodeSelectorTerms:
        - matchExpressions:
          - key: node-role.kubernetes.io/control-plane
            operator: DoesNotExist
          - key: kubernetes.io/arch
            operator: In
            values: 
            - 'amd64'
  haproxy:
    additionalAffinities:
      nodeAffinity:
        requiredDuringSchedulingIgnoredDuringExecution:
          nodeSelectorTerms:
          - matchExpressions:
            - key: node-role.kubernetes.io/control-plane
              operator: DoesNotExist
            - key: kubernetes.io/arch
              operator: In
              values: 
              - 'amd64'