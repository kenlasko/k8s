apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
namespace: monitoring
helmCharts:
- name: kube-prometheus-stack
  repo: https://prometheus-community.github.io/helm-charts/
  version: 77.12.0
  releaseName: promstack
  namespace: monitoring
  includeCRDs: true
  valuesFile: ../../base/values.yaml
  additionalValuesFiles:
  - values.yaml
  valuesMerge: merge
- name: prometheus-smartctl-exporter
  repo: https://prometheus-community.github.io/helm-charts
  version: 0.16.0
  releaseName: prometheus-smartctl-exporter
  namespace: monitoring
  includeCRDs: true
  valuesFile: values-smartctl.yaml
resources:
- ../../base
- httproute.yaml