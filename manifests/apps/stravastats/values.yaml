image:
  repository: robiningelbrecht/strava-statistics
  tag: v0.4.23
  registry: docker.io
priorityClassName: low-priority
securityContext:
  allowPrivilegeEscalation: false
  readOnlyRootFilesystem: false
  seccompProfile:
    type: RuntimeDefault
  capabilities:
    drop: ["ALL"]
    add:
    - "CHOWN"
    - "SETGID"
    - "SETUID"
    - "DAC_OVERRIDE"
resources:
  requests:
    cpu: 1m
    memory: 78Mi
  limits:
    memory: 300Mi
envFrom:
- configMapRef:
    name: env-vars
- secretRef:
    name: strava-secrets
service:
  port: 8080
persistentVolume:
  type: nfs
  mountPath: /stravastats
# extraVolumes:
# - name: nfs-stravastats-build
#   persistentVolumeClaim:
#     claimName: nfs-stravastats-build
# - name: nfs-stravastats-files
#   persistentVolumeClaim:
#     claimName: nfs-stravastats-files
# extraVolumeMounts:
# - name: nfs-stravastats-build
#   mountPath: /var/www
# - name: nfs-stravastats-files
#   mountPath: /var/www/storage/files
# backup:
#   schedule: "40 6 * * *"
extraVolumeMounts:
- name: nfs-stravastats
  mountPath: /var/www/build
  subPath: build
- name: nfs-stravastats
  mountPath: /var/www/storage
  subPath: storage