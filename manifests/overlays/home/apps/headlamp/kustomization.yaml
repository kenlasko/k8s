# manifests/overlays/home/apps/headlamp/kustomization.yaml (CORRECTED)
apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
resources:
- ../../../../base/apps/headlamp # This correctly brings in the base Helm chart definition

# Use helmValues to override the values from the base
helmValues:
- file: values.yaml # This applies the overlay-specific values to the chart defined in the base

patches:
- path: httproute-patch.yaml
  target:
    group: gateway.networking.k8s.io 
    version: v1
    kind: HTTPRoute
    name: headlamp

# The namespace in the overlay will automatically apply to all resources from the base
namespace: headlamp-2