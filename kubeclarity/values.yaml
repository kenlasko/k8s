global:
  #openShiftRestricted: true
  nodeSelector:
    storage: longhorn
  affinity:
    nodeAffinity:
      requiredDuringSchedulingIgnoredDuringExecution:
        nodeSelectorTerms:
        - matchExpressions:
          - key: node-role.kubernetes.io/control-plane
            operator: DoesNotExist
          - key: kubernetes.io/arch
            operator: In
            values: 
            - 'amd64'

kubeclarity-runtime-scan:
  vulnerability-scanner:
    analyzer:
      analyzerList: "trivy" #"syft gomod trivy"
      trivy:
        enabled: true
    scanner:
      scannerList: "trivy"  #"grype trivy"
      trivy:
        enabled: true

kubeclarity-grype-server:
  affinity:
    nodeAffinity:
      requiredDuringSchedulingIgnoredDuringExecution:
        nodeSelectorTerms:
        - matchExpressions:
          - key: node-role.kubernetes.io/control-plane
            operator: DoesNotExist
          - key: kubernetes.io/arch
            operator: In
            values: 
            - 'amd64'

kubeclarity-trivy-server:
  enabled: true

kubeclarity-postgresql:
  enabled: false

kubeclarity-postgresql-external:
  enabled: true
  auth:
    host: postgres-postgresql.postgres.svc.cluster.local
    username: kubeclarity
    existingSecret: postgres-admin-pw

kubeclarity-postgresql-secret:
  create: false